
@{
    ViewBag.Title = "庫存列表";
}

<h2>庫存狀態</h2>

<a class="btn btn-default" style="margin-bottom:10px" href="/Product/"><i class="fas fa-list-alt"></i> 進出貨紀錄</a>
<a class="btn btn-success" style="margin-bottom:10px" href="/AddItem/"><i class="fas fa-plus-circle"></i> 新增產品</a>

<table id="stockTable" class="table table-striped table-bordered" style="width:100%">
    <thead>
        <tr>
            <th>種類</th>
            <th>項目</th>
            <th>商品名稱</th>
            <th>建立時間</th>
            <th>更新時間</th>
            <th>數量</th>
        </tr>
    </thead>
</table>

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap.min.css" rel="stylesheet" />

@section scripts{
    <script src="//cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap.min.js"></script>
    <script src="https://kit.fontawesome.com/bc2f8e5455.js" crossorigin="anonymous"></script>
    <script>
        var Popup, dataTable;
        dataTable = $(document).ready(function () {
            $("#stockTable").DataTable({
                "ajax": {
                    "url": "/Stock/GetData",
                    "type": "GET",
                    "datatype": "json"
                },
                "columns": [
                    { "data": "KindName" },
                    { "data": "ItemName" },
                    { "data": "ProductName" },
                    { "data": "CreateTime" },
                    { "data": "ModifyTime" },
                    { "data": "Qty" }                    
                ],
                "language": {
                    "emptyTable":"目前無庫存，請上架產品"
                }
            });
        });
        setTimeout(function () {            
            window.location.reload();
        }, 5000);
    </script>
}